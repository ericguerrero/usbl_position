<launch>
  <arg name="bagfileName" default="/home/eric/bagfiles/2016_06_02_gps_uib/2016-06-03-13-59-17.bag" />
  <arg name="place" default="uib_pool.yaml"/>

  <!-- bag -->
  <node name="rosbag" pkg="rosbag" type="play" args="--clock -r 10 $(arg bagfileName)"/>

  
  <!-- GPS filter -->
  <node pkg="sensors" type="gps_filter" name="gps_filter" output="screen">
    <remap from="input" to="/fix"/>
    <remap from="gps_filter/output" to="/sensors/buoy"/>
  </node>

  <!-- geo2ned filtered -->
  <node pkg="usbl_position" type="geo2ned" name="geo2ned_filtered" output="screen">
    <remap from="geo" to="/sensors/buoy"/>
    <remap from="geo2ned_filtered/ned" to="/sensors/buoy_ned"/>
  </node>

  <!-- geo2ned filtered -->
  <node pkg="usbl_position" type="geo2ned" name="geo2ned_raw" output="screen">
    <remap from="geo" to="/fix"/>
    <remap from="geo2ned_raw/ned" to="/sensors/buoy_raw"/>
  </node>

  <!-- NED Origin -->
    <arg name="placesDir" default="$(find turbot)/config/places"/>
    <rosparam command="load" file="$(arg placesDir)/$(arg place)"/>

</launch>
